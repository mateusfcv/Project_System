@model Mateus.SistemaAcademico.Models.Usuario
@using Mateus.SistemaAcademico.Models
@using Mateus.SistemaAcademico.Models.Enums

<div>
    <h2 class="text-uppercase">Usuários</h2>

    <div class="pull-right">
        @if ((Session["usuarioLogado"] as Usuario).TipoPerfil == TipoPerfil.Administrador ||
             (Session["usuarioLogado"] as Usuario).TipoPerfil == TipoPerfil.Secretaria ||
             (Session["usuarioLogado"] as Usuario).TipoPerfil == TipoPerfil.Professor ||
             (Session["usuarioLogado"] as Usuario).TipoPerfil == TipoPerfil.Aluno)
        {
            <a class="btn btn-success text-uppercase" href="~/Usuarios/AdicionarUsuario">Cadastrar</a>
        }
    </div>

    <label class="text-uppercase">Pesquisar usuários</label>
    <input class="form-control" type="text" name="pesquisa" id="pesquisa" placeholder="Digite o nome do usuário">
    <hr>

    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th class="text-uppercase">Nome de usuário</th>
                <th class="text-uppercase">Senha</th>
                <th class="text-uppercase">Perfil de Usuário</th>
            </tr>
        </thead>

        <tbody>
            @foreach (var usuario in ViewBag.Usuarios)
            {
                <tr class="busca">

                    <td class="info-nome">
                        @usuario.NomeUsuario
                    </td>

                    <td>
                        @usuario.Senha
                    </td>

                    <td>
                        @usuario.TipoPerfil
                    </td>

                    <td>
                        <a class="btn btn-primary text-uppercase" href="~/Usuario/Detalhes/@usuario.Id">Ver</a>
                    </td>

                    <td>
                        <a class="btn btn-primary btn-danger text-uppercase" href="Usuarios/RemoverUsuario/@usuario.Id">Excluir</a>
                    </td>

                    <td>
                        <a class="btn btn-warning text-uppercase" href="~/Usuario/Alterar/@usuario.Id">Editar</a>
                    </td>

                </tr>
             }
        </tbody>
    </table>
</div>